<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unity WebGL Player</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #unity-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
    </div>

    <!-- Unity WebGL build scripts and setup go here -->
    <script src="Build/UnityLoader.js"></script>
    <script>
        var gameInstance = UnityLoader.instantiate("unity-container", "Build/YourGame.json");
    </script>

    <!-- JavaScript for Device Orientation Data -->
    <script>
        function startDeviceMotion() {
            if (window.DeviceOrientationEvent) {
                window.addEventListener('deviceorientation', function (event) {
                    var tiltX = event.beta;   // In degrees, from -180 to 180
                    var tiltY = event.gamma;  // In degrees, from -90 to 90
                    var tiltZ = event.alpha;  // In degrees, 0 to 360

                    // Check if the gameInstance is available and then send the data to Unity
                    if (gameInstance != null && gameInstance.SendMessage) {
                        gameInstance.SendMessage('AccelerationTest', 'ReceiveOrientationData', `${tiltX},${tiltY},${tiltZ}`);
                    }
                });
            } else {
                console.log("Device orientation not supported on this device or browser.");
            }
        }

        // Start listening to device orientation as soon as the page loads
        window.onload = startDeviceMotion;
    </script>
</body>
</html>
